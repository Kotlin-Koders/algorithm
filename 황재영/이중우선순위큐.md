```kt
import java.util.*

class Solution {
    fun solution(operations: Array<String>): IntArray {
        val minHeap = PriorityQueue<Int>(Comparator { a, b -> a - b });
        val maxHeap = PriorityQueue<Int>(Comparator { a, b -> b - a });

        var length = 0;

        operations.forEach({ operation ->
            var (command, str) = operation.split(" ");

            val num = str.toInt()

            if (command == "I") {
                length += 1;

                maxHeap.add(num);
                minHeap.add(num);
            } else {
                if (length > 0) {
                    length -= 1;

                    if (num == 1) {
                        maxHeap.poll();
                    }

                    if (num == -1) {
                        minHeap.poll();
                    }

                    if (length == 0) {
                        while (maxHeap.size > 0) {
                            maxHeap.poll();
                        }

                        while (minHeap.size > 0) {
                            minHeap.poll();
                        }
                    }
                }
            }
        });

        val maxValue = if (maxHeap.size > 0) maxHeap.poll() else 0;
        val minValue = if (minHeap.size > 0) minHeap.poll() else 0;

        return intArrayOf(maxValue, minValue);
    }
}
```
