# 다단계 칫솔 판매

```kotlin
class Solution {
    fun solution(enroll: Array<String>, referral: Array<String>, seller: Array<String>, amount: IntArray): IntArray {
        var answer: IntArray = intArrayOf()
        
        val employees = mutableListOf<Employee>()
        
        for (i in 0 until enroll.size) {
            val referralEmployee = employees.find { it.name == referral[i] }
            if (referralEmployee == null) {
                employees.add(Employee(enroll[i], null))
                continue
            }
            employees.add(Employee(enroll[i], referralEmployee))
        }
        
        for (i in 0 until seller.size) {
            val employee = employees.find { it.name == seller[i] }
            employee!!.sell(amount[i] * 100)
        }
        
        return employees.map { it.profit }.toIntArray()
    }
}

class Employee(
    val name: String,
    val referralEmployee: Employee?,
    var profit: Int = 0
) {
    
    fun sell(profit: Int) {
        val interest = profit / 10

        if (interest == 0) {
            this.profit += profit
            return
        }

        this.profit += profit - interest
        
        if (referralEmployee != null) {
            referralEmployee.sell(interest)
        }
    }
}


```