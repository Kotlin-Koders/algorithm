# 호텔 대실

```kotlin
class Solution {
    fun solution(book_time: Array<Array<String>>): Int {
        val hotel = Hotel()
        for (book_t in book_time) {
            hotel.book(book_t[0], book_t[1])
        }
        return hotel.rooms.size
    }
}

class Hotel (
    var rooms: MutableList<MutableList<Book>> = mutableListOf<MutableList<Book>>()
) {
    
    fun book(startAt: String, endAt: String) {
        val booked = Book(startAt, endAt)

        var duplicateCount = 0
        loop@ for (room in rooms) {
            for (book in room) {
                if (!book.isDuplicated(booked)) {
                    room.add(booked)
                    break@loop
                }
            }
            duplicateCount += 1
        }
        if (duplicateCount == rooms.size) {
            rooms.add(mutableListOf(booked))
        }
    }
}

class Book (
    startAt_: String,
    endAt_: String
) {
    
    val startAt: Time
    val endAt: Time
    
    init {
        this.startAt = Time(startAt_)
        this.endAt = Time(endAt_)
        endAt.addCleanTime()
    }
    
    fun isDuplicated(book: Book): Boolean {
        if (startAt.isBefore(book.startAt) && endAt.isBefore(book.startAt)) {
            return false
        }
        
        if (startAt.isAfter(book.endAt) && endAt.isAfter(book.endAt)) {
             return false
        }
        return true
    }
}

class Time (
    time_: String
) {
    
    var hour: Int
    var minute: Int
    
    init {
        val timeItems = time_.split(":")
        hour = timeItems[0].toInt()
        minute = timeItems[1].toInt()
    }
    
    fun addCleanTime() {
        if (minute + 10 >= 60) {
            if (hour < 23) {
                hour += 1
                minute -= 50
            } else {
                minute = 59
            }
        } else {
            minute += 10
        }
    }

    fun isAfter(time: Time): Boolean {
        return hour > time.hour || hour == time.hour && minute >= time.minute 
    }
    
    fun isBefore(time: Time): Boolean {
        return hour < time.hour || hour == time.hour && minute <= time.minute
    }
}
```